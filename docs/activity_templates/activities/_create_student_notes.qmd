```{r}
#| echo: false
#| eval: true
library(tidyverse)
make_student_notes <- function(title, file_path){
    # Define the yaml
    top_content <- paste0(
        "---\n",
        'title: "',title,' (Notes)"\n',
        'subtitle: "STAT 155"\n',
        'author: "Your Name"\n',
        'format:\n',
        '  html:\n',
        '    toc: true\n',
        '    toc-depth: 2\n',
        '    embed-resources: true\n',
        "---\n\n")
    
    # Define the middle content by the core file
    # Instructor: update your image path
    middle_content <- readLines(paste0('core/',file_path))
    middle_content <- str_replace_all(middle_content,'\\.\\./images','https://ajohns24.github.io/155_Fall_2025/images')
    middle_content <- str_replace_all(middle_content,'cache[ ]*=[ ]*TRUE[,]*','')
    
    # Define message to go at the bottom of each activity
    bottom_content <- paste0("\n\n## Done!\n\n",
    "- Finalize your notes: (1) Render your notes to an HTML file; (2) Inspect this HTML in your Viewer -- check that your work translated correctly; and (3) Outside RStudio, navigate to your 'Activities' subfolder within your 'STAT155' folder and locate the HTML file -- you can open it again in your browser.\n",
    "- Clean up your RStudio session: End the rendering process by clicking the 'Stop' button in the 'Background Jobs' pane.\n",
    "- Check the solutions in the course website, at the bottom of the corresponding chapter.\n",
    "- Work on homework!\n\n")
    
    # Combine the top, middle, bottom content
    # And write to a notes file in template_qmds folder
    content <- c(top_content, middle_content, bottom_content)
    writeLines(content, paste0('../template_qmds/', file_path %>% str_remove('_L') %>% str_remove('.qmd'), '-notes.qmd'))
}   
```


